{"version":3,"sources":["images/Logo.svg","components/Header.js","components/Footer.js","images/Pen.svg","images/Edit_Button.svg","images/Cross.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logoPath","alt","Footer","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","name","onCardClick","link","onCardLike","length","Main","onEditAvatar","penPath","avatar","onEditProfile","editButtonPath","about","onAddPlace","crossPath","cards","map","item","ImagePopup","Object","keys","constructor","onClose","api","url","authorization","this","_url","_authorization","res","ok","json","Promise","reject","status","fetch","headers","then","_checkResponse","method","body","JSON","stringify","id","dislike","like","all","getInitialCards","getUserInfo","PopupWithForm","isOpen","noValidate","onSubmit","title","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","minLength","maxLength","value","onChange","target","required","placeholder","EditAvatarPopup","avatarLink","createRef","handleClose","current","onUpdateAvatar","ref","AddPlacePopup","setLink","App","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCards","closeAllPopups","data","catch","err","console","error","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","_","filter","userInfo","changeUserInfo","cardInfo","addNewCard","changeUserPhoto","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c1e5e6a8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.8724261e.svg\";","import React from 'react';\r\nimport logoPath from '../images/Logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header page__header\">\r\n            <img src={logoPath} alt=\"логотип\" className=\"header__logo\" />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer page__footer\">\r\n            <p className=\"footer__text\">© 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","export default __webpack_public_path__ + \"static/media/Pen.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/Edit_Button.f0dd9c51.svg\";","export default __webpack_public_path__ + \"static/media/Cross.bed8c136.svg\";","import React from 'react';\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext;","import React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? '' : 'element__delete_inactive'}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = `element__button ${isLiked ? 'element__button_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.card)\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        props.onCardLike(props.card)\r\n    }\r\n\r\n    function handleDeleteCard() {\r\n        props.onCardDelete(props.card)\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteCard}></button>\r\n            <img alt={props.card.name} className=\"element__image\" onClick={handleClick} src={props.card.link} />\r\n            <div className=\"element__info\">\r\n                <h3 className=\"element__title\">{props.card.name}</h3>\r\n                <div className=\"element__like-section\">\r\n                    <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick} />\r\n                    <span className=\"element__likes\">{props.card.likes.length}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import penPath from '../images/Pen.svg';\r\nimport editButtonPath from '../images/Edit_Button.svg';\r\nimport crossPath from '../images/Cross.svg';\r\nimport Card from './Card';\r\nimport React from 'react';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content page__content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__passport\">\r\n                    <div onClick={props.onEditAvatar} className=\"profile__photo-container\">\r\n                        <div className=\"profile__change-photo-overlay\">\r\n                            <img src={penPath} alt=\"Кнопка изменить\" className=\"profile__change-photo\" />\r\n                        </div>\r\n                        <img alt=\"Аватарка\" className=\"profile__avatar\" src={currentUser.avatar} />\r\n                    </div>\r\n                    <div className=\"profile__profile-info\">\r\n                        <div className=\"profile__name-button\">\r\n                            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                            <button type=\"button\" onClick={props.onEditProfile} className=\"profile__edit-button\">\r\n                                <img src={editButtonPath} alt=\"Кнопка изменить\" className=\"profile__pen\" />\r\n                            </button>\r\n                        </div>\r\n                        <p className=\"profile__description\">{currentUser.about}</p>\r\n                    </div>\r\n                </div>\r\n                <button type=\"button\" onClick={props.onAddPlace} className=\"profile__add-button\">\r\n                    <img src={crossPath} alt=\"Кнопка добавить\" className=\"profile__cross\" />\r\n                </button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__grid\">\r\n                    {\r\n                        props.cards.map(item => (\r\n                            <Card key={item._id} card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} />\r\n                        )\r\n                        )}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction ImagePopup(props) {\r\n    return (\r\n        props.card &&\r\n        <section className={`popup-image ${Object.keys(props.card).length === 0 && props.card.constructor === Object ? '' : 'popup_active'}`}>\r\n            <div className=\"popup-image__pic\">\r\n                <button type=\"button\" onClick={props.onClose} className=\"popup__button\"></button>\r\n                <img alt={props.card.name} src={props.card.link} className=\"popup-image__image\" />\r\n                <h2 className=\"popup-image__title\">{props.card.name}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(url, authorization) {\r\n        this._url = url;\r\n        this._authorization = authorization;\r\n    };\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n          }\r\n          return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n      };\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}cards`, {\r\n            headers: {\r\n              authorization: this._authorization\r\n            }\r\n          })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeUserInfo({ name, about }) {\r\n        return fetch(`${this._url}users/me`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              about: about\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    addNewCard({ name, link }) {\r\n        return fetch(`${this._url}cards`, {\r\n            method: 'POST',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n              name: name,\r\n              link: link\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeUserPhoto( {link} ) {\r\n        return fetch(`${this._url}users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                authorization: this._authorization,\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify({\r\n            avatar: link\r\n            })\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}users/me`, {\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    like(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    dislike(id) {\r\n        return fetch(`${this._url}cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: {\r\n                authorization: this._authorization\r\n            }\r\n        })\r\n        .then((res) => this._checkResponse(res))\r\n    };\r\n\r\n    changeLikeCardStatus(id, isLiked) {\r\n        return isLiked\r\n        ? this.dislike(id)\r\n        : this.like(id)\r\n    };\r\n\r\n    renderPage() {\r\n        return Promise.all([this.getInitialCards(), this.getUserInfo()])\r\n    }\r\n}\r\n\r\nconst api = new Api('https://mesto.nomoreparties.co/v1/cohort-18/', '992a3ad3-237d-4b2f-8424-0245e20d32b7');\r\n\r\nexport default api;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n    return (\r\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_active' : ''}`}>\r\n            <form name='info' className={`popup__form popup__form_${props.name}`} noValidate onSubmit={props.onSubmit}>\r\n                <button type='button' className='popup__button' onClick={props.onClose}></button>\r\n                <h2 className='popup__title'>{props.title}</h2>\r\n                {props.children};\r\n                <button type='submit' className={`popup__submit-button ${props.name === 'submit-form' ? 'popup__submit-button_submit-form' : ''}`}>{props.buttonText}</button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return (\r\n        <PopupWithForm name=\"edit\" isOpen={props.isOpen} title=\"Редактировать профиль\" onClose={props.onClose} buttonText=\"Сохранить\" onSubmit={handleSubmit}>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"40\" name=\"name\" id=\"name-input\" value={name} onChange={handleChangeName} required placeholder=\"Имя\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"name-input-error\"></span>\r\n            </section>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"200\" name=\"about\" id=\"description-input\" value={description} onChange={handleChangeDescription} required placeholder=\"О себе\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"description-input-error\"></span>\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n    const avatarLink = React.createRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            link: avatarLink.current.value,\r\n        });\r\n        handleClose();\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose()\r\n        avatarLink.current.value = '';\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"change-photo\" isOpen={props.isOpen} title=\"Обновить аватар\" onClose={handleClose} onSubmit={handleSubmit} buttonText=\"Сохранить\">\r\n            <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" ref={avatarLink} id=\"link-input\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\" />\r\n                <span className=\"popup__input-error\" id=\"link-input-error\"></span>\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n\r\n    function handleAddPlaceSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n          name, link\r\n        });\r\n        handleClose();\r\n    }\r\n\r\n    function handleClose() {\r\n        props.onClose()\r\n        setName('');\r\n        setLink('');\r\n    }\r\n\r\n    function handleName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleLink(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm name=\"add\" isOpen={props.isOpen} title=\"Новое место\" onClose={handleClose} buttonText=\"Создать\" onSubmit={handleAddPlaceSubmit}>\r\n            <section className=\"popup__section\">\r\n                <input type=\"text\" minLength=\"2\" maxLength=\"30\" name=\"name\" id=\"title-input\" required placeholder=\"Название\" className=\"popup__input\" value={name} onChange={handleName} />\r\n                <span className=\"popup__input-error\" id=\"title-input-error\"></span>\r\n            </section>\r\n            <section className=\"popup__section\">\r\n                <input type=\"url\" name=\"link\" id=\"link-input\" required placeholder=\"Ссылка на картинку\" className=\"popup__input\" value={link} onChange={handleLink} />\r\n                <span className=\"popup__input-error\" id=\"link-input-error\"></span>\r\n            </section>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport Main from './Main';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\n\nfunction App() {\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({})\n  const [cards, setCards] = React.useState([]);\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card)\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({})\n  }\n\n  function handleUpdateAvatar(link) {\n    api.changeUserPhoto(link)\n      .then(data => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleUpdateUser(userInfo) {\n    api.changeUserInfo(userInfo)\n      .then(data => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch(err => console.error(err))\n  }\n\n  React.useEffect(() => {\n    api.getUserInfo()\n      .then(data => setCurrentUser(data))\n      .catch(err => console.error(err))\n  }, [])\n\n  React.useEffect(() => {\n    api.getInitialCards()\n      .then(cards => {\n        setCards(cards)\n      })\n      .catch(err => console.error(err))\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n        setCards(newCards);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then((_) => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch(err => console.error(err))\n  }\n\n  function handleAddPlace(cardInfo) {\n    api.addNewCard(cardInfo)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n      })\n      .catch(err => console.error(err))\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n          <Footer />\n          <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n          <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n          <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}